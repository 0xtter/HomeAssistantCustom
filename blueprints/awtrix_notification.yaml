blueprint:
  name: Awtrix Notification
  description: >-
    A script that notify an Awtrix display.
  domain: script
  source_url: https://raw.githubusercontent.com/0xtter/HomeAssistantCustom/main/blueprints/awtrix_notification.yaml
  author: 0xtter
  input:
    awtrix:
      name: AWTRIX Device
      description: Select the Awtrix device
      selector:
        device:
          integration: mqtt
          manufacturer: Blueforcer
          model: AWTRIX 3
          multiple: false
    title:
      name: "Text"
      description: "The text to show in the notification."
      default: ""
      selector:
        text:
    icon_number:
      name: "Icon"
      description: "The icon ID of the icon to show in the notification"
      default: "Confirm"
      selector:
        number:
          mode: box

fields:
  message:
    description: The message of the notification
    example: Hello Awtrix!

sequence:
  - service: mqtt.publish
    metadata: {}
    data:
      qos: 0
      retain: false
      topic: awtrix_3b22d0/notify
      payload: '{"text": "{{ messsage }}","rainbow": true,"duration": 10,"icon": 6881}'